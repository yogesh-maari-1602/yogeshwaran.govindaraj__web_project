<!DOCTYPE html>
<html>

<head>
    <title>Registration Page</title>
    <link rel="stylesheet" href="../assest/css/Seeker Register.css">
</head>

<body>




    <div class="container">
        <a href="../pages/firsthome.html"><img src="../assest/image/logo.jpg" width="114px"></a>

        <h1>Seeker Registration</h1>
        <form id="form">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" pattern="[a-zA-Z]{1,20}" required>

            <label for=" email">Email:</label>
            <input type="email" id="email" name="email" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" required>

            <label for="mobile">Mobile Number:</label>
            <input type="tel" id="mobile" name="mobile" maxlength="10" required>

            <label for=" address">Address:</label>
            <textarea id="address" name="address" rows="4" pattern="[A-Za-z]{3}" required></textarea>

            <label for="password">Password</label>
            <input type="password" id="password" name="password" pattern=".{8,}" required>

            <label for="password">Confirm Password</label>
            <input type="password" id="password1" name="password" pattern=".{8,}" required>

            <button type="submit" value="submit" onclick="sign()">Register</button>
        </form>
    </div>

    <script>
        let signUpform = document.getElementById("form");
        document.createElement("Seekerregister");
        signUpform.addEventListener("submit", function (event) {
            event.preventDefault();

            let array = [];
            if (localStorage.getItem("Seekerregister") != null) {
                array = JSON.parse(localStorage.getItem("Seekerregister"));
            }

            let match = false;

            const id = Date.now();
            console.log(id);

            const name = document.getElementById("name").value;
            const number = document.getElementById("mobile").value;
            const email = document.getElementById("email").value.toLowerCase();
            const address = document.getElementById("address").value;
            const password = document.getElementById("password").value;
            const password1 =
                document.getElementById("password").value;
            if (password != password1) {
                alert("Password and Confirm password are not match");
                return false;
            } else {
                for (let i = 0; i < array.length; i++) {
                    if (email == array[i]["email"]) {
                        match = true;
                    }
                }
            }

            if (match == true) {
                alert("Email is already Exist");
                return false;
            } else {
                let userObj = {
                    name,
                    number,
                    email,
                    address,
                    password,
                    password1,
                };
                console.log(userObj);

                array.push(userObj);
                const str = JSON.stringify(array);
                localStorage.setItem("Seekerregister", str);
                console.log(str);

                window.location.href = "../pages/SeekerLogin.html";
            }
        });

    </script>
</body>
<a href="../pages/SeekerLogin.html"></a>

</html>